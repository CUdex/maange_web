<!DOCTYPE html>
<html>
<head>
    <title>All VM LIST</title>
</head>

<style>
  #container {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
  }
  .styled-table {
      border-collapse: collapse;
      margin: auto;
      font-size: 0.9em;
      font-family: sans-serif;
      min-width: 1100px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
  }

  .styled-table thead tr {
      background-color: #009879;
      color: #ffffff;
      text-align: center;
  }

  .styled-table th,
  .styled-table td {
      padding: 12px 15px;
  }

  .styled-table tbody tr {
      border-bottom: 1px solid #dddddd;
  }

  .styled-table tbody tr:nth-of-type(even) {
      background-color: #f3f3f3;
  }

  .styled-table tbody tr:last-of-type {
      border-bottom: 2px solid #009879;
  }

  .styled-table tbody td {
      text-align: center;
  }
  #search_form {
    position: relative;
    top: 0;
    right: 0;
    left: 400px;
    margin: 20px;
    padding: 20px;
    background-color: #f2f2f2;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  .circle_container {
    display: flex;
    align-items: center;
  }
  .circle {
    width: 20px; 
    height: 20px; 
    border-radius: 50%;
  }
  .power {
    margin-left: 10px;
  }
  .tooltip {
            position: relative;
            display: inline-block;
        }

  .tooltip .tooltiptext {
            visibility: hidden;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
  }

  .tooltip:hover .tooltiptext {
            visibility: visible;
  }
</style>

<body>
  {% include "main_header.html" %}
<div id="container">
  <div>
    <form method="get" id="search_form">
      <input type="string" name="vm_name"/>
      <input type="submit" value="검색">
    </form>
  </div> 
  <table class='styled-table'>
      <thead>
        <tr>
          {% for x in title %}
            <th>{{ x }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for x in vm_list %}
          <tr>
            {% for value in x %}
              {% if loop.index == 7 %}
                {% if value == '0' %}
                  <td><div class="circle_container">
                    <div class="circle" style="background-color: red;"></div>
                    <div class="tooltip">
                      <button class="power" value_data="{{ value }}">on</button>
                      <span class="tooltiptext">{{ x[0] }} On</span>
                    </div>
                    <div class="tooltip">
                      <button class="power" value_data="{{ value }}">off</button>
                      <span class="tooltiptext">{{ x[0] }} Off</span>
                    </div>
                  </div></td>
                {% else %}
                  <td><div class="circle_container">
                    <div class="circle" style="background-color: green;"></div>
                    <div class="tooltip">
                      <button class="power" value_data="{{ value }}">on</button>
                      <span class="tooltiptext">{{ x[0] }} On</span>
                    </div>
                    <div class="tooltip">
                      <button class="power" value_data="{{ value }}">off</button>
                      <span class="tooltiptext">{{ x[0] }} Off</span>
                    </div>
                  </div></td>
                {% endif %}
              {% else %}
                <td>{{ value }}</td>
              {% endif %}
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
</div>
</body>
<script>
</script>
</html>